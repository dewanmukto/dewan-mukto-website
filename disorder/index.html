<!DOCTYPE html>
<html lang="en" class="bg-[#313338] text-white h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta name="description" content="Disorder is an anonymous P2P chat app by MuxDay. Connect securely and chat freely in real-time.">
  <meta name="keywords" content="Disorder, anonymous chat, P2P chat, Discord alternative, discord alternatives, MuxDay, secure messaging, real-time chat">
  <meta name="author" content="MuxDay">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#313338">

  <meta property="og:title" content="Disorder | Anonymous P2P Chat">
  <meta property="og:description" content="Anonymous, serverless, and all messages and shared files gone in a flash when you leave! This is Disorder, Discord's mysterious twin.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://muxday.com/disorder">
  <meta property="og:image" content="https://disorderchat.web.app/asset/img/og-image.png">
  <meta property="og:site_name" content="Disorder">
  <meta property="og:locale" content="en_US">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Disorder | Anonymous P2P Chat">
  <meta name="twitter:description" content="Disorder by MuxDay offers secure, anonymous P2P chatting. Connect and chat now!">
  <meta name="twitter:image" content="https://disorderchat.web.app/asset/img/og-image.png">
  <meta name="twitter:site" content="@cuprblck">
  <meta name="twitter:creator" content="@cuprblck">

  <link rel="icon" type="image/png" href="/assets/images/blue.jpg">
  <link rel="canonical" href="https://muxday.com/disorder">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Disorder",
    "description": "Disorder is an anonymous peer-to-peer chat application developed by MuxDay, offering secure and real-time messaging.",
    "url": "https://disorderchat.web.app",
    "creator": {
      "@type": "Organization",
      "name": "MuxDay",
      "sameAs": [
        "https://x.com/cuprblck",
        "https://bsky.app/profile/cpbk.bsky.social"
      ]
    },
    "applicationCategory": "Communication",
    "operatingSystem": "Web",
    "image": "https://disorderchat.web.app/asset/img/og-image.png"
  }
  </script>

  <title>Disorder | Anonymous P2P Chat</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="flex h-screen overflow-hidden font-sans">

  <!-- Left Server Rail -->
  <aside class="hidden md:flex w-14 bg-[#1e1f22] flex-col items-center py-3 space-y-3">
    <a href="https://discord.com/users/878686862116528249" target="_blank" title="Abrar A. [dev]">
      <img src="https://cdn.discordapp.com/avatars/878686862116528249/6f31431aebb6c04564896cc2c10ac93b.png?size=240"
           class="w-12 h-12 rounded-full hover:rounded-2xl transition-all hover:ring-2 ring-blue-500" />
    </a>
    <a href="https://github.com/Exalux" target="_blank" title="MuxDay [dev brand]">
      <img src="https://avatars.githubusercontent.com/u/215483536?s=200&v=4"
           class="w-12 h-12 rounded-full hover:rounded-2xl transition-all hover:ring-2 ring-purple-500" />
    </a>
    <a href="https://discord.com/users/997994920109408378" target="_blank" title="Cooper B. [dev]">
      <img src="https://avatars.githubusercontent.com/u/215533943?s=200&v=4"
           class="w-12 h-12 rounded-full hover:rounded-2xl transition-all hover:ring-2 ring-red-500" />
    </a>
  </aside>

  <!-- Channel List -->
  <aside class="hidden md:flex w-60 bg-[#2b2d31] flex-col text-sm text-[#b5bac1]">
    <div class="p-3 font-semibold text-white border-b border-[#232428] flex items-center justify-between">
      <span>Exa Disorder</span>
      <i class="fas fa-chevron-down text-xs"></i>
    </div>
    
    <!-- Text Channels -->
    <div class="p-2 text-xs uppercase text-gray-400 tracking-widest flex items-center justify-between">
      <span>Text Channels</span>
      <i class="fas fa-plus text-xs hover:text-white cursor-pointer"></i>
    </div>
    <div class="px-4 py-1 bg-[#404249] text-white rounded-md mx-2 mb-1 flex items-center">
      <i class="fas fa-hashtag text-gray-400 mr-2 text-xs"></i>
      <span>general</span>
    </div>
    <div class="px-4 py-1 hover:bg-[#3c3f45] mx-2 rounded cursor-not-allowed flex items-center text-gray-500">
      <i class="fas fa-hashtag text-gray-500 mr-2 text-xs"></i>
      <span>random</span>
    </div>
    <div class="px-4 py-1 hover:bg-[#3c3f45] mx-2 rounded cursor-not-allowed flex items-center text-gray-500">
      <i class="fas fa-hashtag text-gray-500 mr-2 text-xs"></i>
      <span>memes</span>
    </div>
    
    <!-- Voice Channels -->
    <div class="p-2 mt-4 text-xs uppercase text-gray-400 tracking-widest flex items-center justify-between">
      <span>Voice Channels</span>
      <i class="fas fa-plus text-xs hover:text-white cursor-pointer"></i>
    </div>
    <div id="voice-channel" class="flex items-center gap-2 px-4 py-1 hover:bg-[#3c3f45] hover:text-white mx-2 rounded cursor-pointer transition-colors">
      <i class="fas fa-volume-up text-gray-400"></i>
      <span>General</span>
    </div>

    <!-- Voice Channel Users Grid -->
    <div id="voice-users-container" class="hidden px-2 py-2 mx-2 bg-[#232428] rounded-lg mt-2">
      <div class="text-xs text-gray-400 mb-2 px-2">Voice Channel</div>
      <div id="voice-users-grid" class="grid grid-cols-4 gap-2"></div>
    </div>

    <!-- User info -->
    <div class="mt-auto p-3 flex items-center gap-2 border-t border-[#232428] cursor-pointer hover:bg-[#3c3f45] rounded transition-colors">
      <img id="avatar-preview" src="/assets/images/blue.jpg" class="w-8 h-8 rounded-full" />
      <div class="flex-1">
        <div id="nickname-display" class="text-sm font-semibold text-white">Stranger #XXXX</div>
        <div class="text-xs text-green-400 flex items-center">
          <div class="w-2 h-2 bg-green-400 rounded-full mr-1"></div>
          Online
        </div>
      </div>
      <div class="flex items-center gap-1">
        <button id="user-mic-btn" class="p-1 hover:bg-[#40444b] rounded text-gray-400 hover:text-white transition-colors" title="Mute">
          <i class="fas fa-microphone text-xs"></i>
        </button>
        <button id="user-headphones-btn" class="p-1 hover:bg-[#40444b] rounded text-gray-400 hover:text-white transition-colors" title="Deafen">
          <i class="fas fa-headphones text-xs"></i>
        </button>
        <button id="user-settings-btn" class="p-1 hover:bg-[#40444b] rounded text-gray-400 hover:text-white transition-colors" title="Settings">
          <i class="fas fa-cog text-xs"></i>
        </button>
      </div>
    </div>

    <!-- Profile Panel -->
    <div id="profile-panel" class="hidden absolute left-8 bottom-16 w-80 bg-[#1e1f22] p-4 rounded-lg shadow-xl border border-[#40444b] space-y-4 z-20">
      <h3 class="text-white font-semibold mb-3">Edit Profile</h3>
      
      <div>
        <label class="text-xs text-gray-400 block mb-1">Display Name</label>
        <input id="nickname-input" class="w-full p-2 rounded bg-[#2b2d31] text-white border border-[#40444b] focus:border-[#5865f2] focus:outline-none" />
      </div>
      
      <div>
        <label class="text-xs text-gray-400 block mb-1">Avatar</label>
        <input type="file" id="avatar-upload" accept="image/*" class="w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-[#5865f2] file:text-white hover:file:bg-[#4752c4]" />
      </div>
      
      <div>
        <label class="text-xs text-gray-400 block mb-1">Custom Status</label>
        <input id="status-input" placeholder="What's on your mind?" class="w-full p-2 rounded bg-[#2b2d31] text-white border border-[#40444b] focus:border-[#5865f2] focus:outline-none" />
      </div>
      
      <div class="flex gap-2 pt-2">
        <button onclick="saveProfile()" class="flex-1 bg-[#5865f2] hover:bg-[#4752c4] px-3 py-2 rounded text-sm font-medium text-white transition-colors">
          Save Changes
        </button>
        <button onclick="toggleProfilePanel()" class="px-3 py-2 rounded text-sm font-medium text-gray-400 hover:text-white hover:bg-[#40444b] transition-colors">
          Cancel
        </button>
      </div>
    </div>
  </aside>

  <!-- Mobile Sidebar Overlay -->
  <div id="mobile-sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden">
    <div id="mobile-sidebar" class="w-80 h-full bg-[#2b2d31] transform -translate-x-full transition-transform duration-300 ease-in-out overflow-y-auto">
      <div class="p-4">
        <!-- Mobile Sidebar Header -->
        <div class="flex justify-between items-center mb-6 text-white">
          <span class="font-semibold text-lg">Disorder</span>
          <button id="mobile-sidebar-close" class="text-white text-2xl hover:text-gray-300 transition-colors p-1">
            <i class="fas fa-times"></i>
          </button>
        </div>
        
        <!-- Connection Section -->
        <div class="mb-6">
          <h3 class="text-xs uppercase text-gray-400 tracking-widest mb-3">Connection</h3>
          <div class="space-y-2">
            <button id="mobile-qr-btn" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded flex items-center gap-2 transition-colors">
              <i class="fas fa-qrcode"></i> Share QR Code
            </button>
            <button id="mobile-scan-btn" class="w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-3 rounded flex items-center gap-2 transition-colors">
              <i class="fas fa-camera"></i> Scan QR Code
            </button>
            <div class="flex gap-2">
              <input id="mobile-peer-input" class="flex-1 bg-[#1e1f22] p-2 rounded text-white text-sm placeholder:text-gray-400 border border-[#40444b] focus:border-[#5865f2] focus:outline-none" placeholder="Enter Peer ID"/>
              <button id="mobile-connect-btn" class="bg-[#5865f2] hover:bg-[#4752c4] text-white px-3 py-2 rounded text-sm font-medium transition-colors">Connect</button>
            </div>
          </div>
        </div>
        
        <!-- Channels Section -->
        <div class="mb-6">
          <h3 class="text-xs uppercase text-gray-400 tracking-widest mb-3">Text Channels</h3>
          <div class="space-y-1">
            <div class="px-3 py-2 bg-[#404249] text-white rounded text-sm flex items-center">
              <i class="fas fa-hashtag text-gray-400 mr-2 text-xs"></i>
              general
            </div>
            <div class="px-3 py-2 text-gray-400 cursor-not-allowed text-sm flex items-center">
              <i class="fas fa-hashtag text-gray-500 mr-2 text-xs"></i>
              random
            </div>
            <div class="px-3 py-2 text-gray-400 cursor-not-allowed text-sm flex items-center">
              <i class="fas fa-hashtag text-gray-500 mr-2 text-xs"></i>
              memes
            </div>
          </div>
        </div>
        
        <!-- Voice Channels -->
        <div class="mb-6">
          <h3 class="text-xs uppercase text-gray-400 tracking-widest mb-3">Voice Channels</h3>
          <div id="mobile-voice-channel" class="flex items-center gap-2 px-3 py-2 hover:bg-[#3c3f45] hover:text-white rounded cursor-pointer text-sm transition-colors">
            <i class="fas fa-volume-up text-gray-400"></i>
            <span>General</span>
          </div>
          
          <!-- Mobile Voice Users Grid -->
          <div id="mobile-voice-users-container" class="hidden mt-3 p-3 bg-[#232428] rounded-lg">
            <div class="text-xs text-gray-400 mb-2">Voice Channel</div>
            <div id="mobile-voice-users-grid" class="grid grid-cols-3 gap-2"></div>
          </div>
        </div>
        
        <!-- Online Users -->
        <div>
          <h3 class="text-xs uppercase text-gray-400 tracking-widest mb-3">Online Users</h3>
          <div id="mobile-peer-list" class="space-y-1"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Chat Section -->
  <div class="flex flex-col flex-1 bg-[#313338]">
    <!-- Mobile Header -->
    <header class="flex md:hidden items-center justify-between h-12 px-4 bg-[#313338] border-b border-[#232428] fixed top-0 left-0 right-0 z-30">
      <button id="mobile-menu-btn" class="text-white text-xl hover:text-gray-300 transition-colors p-2">
        <i class="fas fa-bars"></i>
      </button>
      
      <div class="flex items-center gap-2">
        <i class="fas fa-hashtag text-gray-400 text-sm"></i>
        <div class="text-white font-semibold">general</div>
      </div>
      
      <div class="flex items-center gap-2">
        <button onclick="showQRCode()" class="text-white text-lg hover:text-gray-300 transition-colors p-1">
          <i class="fas fa-qrcode"></i>
        </button>
        <button onclick="showQRScanner()" class="text-white text-lg hover:text-gray-300 transition-colors p-1">
          <i class="fas fa-camera"></i>
        </button>
      </div>
    </header>

    <!-- Desktop Header -->
    <header class="hidden md:flex h-12 items-center px-4 bg-[#313338] border-b border-[#232428] justify-between">
      <div class="flex items-center gap-2">
        <i class="fas fa-hashtag text-gray-400"></i>
        <span class="text-white text-md font-semibold">general</span>
        <div class="w-px h-6 bg-[#40444b] mx-2"></div>
        <span class="text-sm text-gray-400">Anonymous P2P Chat</span>
      </div>
      
      <div class="flex items-center gap-2">
        <span id="current-peer-id" class="text-sm text-gray-400 mr-2"></span>
        <button onclick="showQRCode()" class="bg-green-600 hover:bg-green-700 text-sm px-3 py-1 rounded text-white flex items-center gap-1 transition-colors">
          <i class="fas fa-qrcode"></i> Share
        </button>
        <button onclick="showQRScanner()" class="bg-purple-600 hover:bg-purple-700 text-sm px-3 py-1 rounded text-white flex items-center gap-1 transition-colors">
          <i class="fas fa-camera"></i> Scan
        </button>
        <input id="peer-id-input" class="text-sm bg-[#1e1f22] p-1 px-2 rounded-md placeholder:text-gray-400 text-white focus:ring-1 focus:ring-[#5865f2] focus:outline-none border border-[#40444b]" placeholder="Peer ID"/>
        <button id="connect-btn" class="bg-[#5865f2] hover:bg-[#4752c4] text-sm px-3 py-1 rounded text-white font-medium transition-colors">Connect</button>
      </div>
    </header>

    <!-- Chat Window with Sidebar -->
    <div class="flex flex-1 overflow-hidden pt-12 md:pt-0">
      <main class="flex-1 flex flex-col overflow-hidden">
        <!-- Voice Channel Panel -->
        <div id="voice-channel-panel" class="hidden bg-[#2b2d31] border-b border-[#232428] p-4">
          <div class="flex items-center justify-between mb-3">
            <div class="flex items-center gap-2">
              <i class="fas fa-volume-up text-green-400"></i>
              <span class="text-white font-semibold">Voice Channel - General</span>
              <span id="voice-user-count" class="text-xs text-gray-400">(0)</span>
            </div>
            <button id="leave-voice-channel" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors">
              <i class="fas fa-phone-slash mr-1"></i> Leave
            </button>
          </div>
          
          <!-- Voice Users Grid -->
          <div id="voice-channel-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3"></div>
        </div>

        <!-- Chat Messages -->
        <div id="chat-box" class="flex-1 overflow-y-auto p-6 space-y-1 scrollbar-hide text-sm">
          <div class="text-center text-white mt-20">
            <div class="mb-6">
              <div class="w-16 h-16 bg-[#5865f2] rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-hashtag text-white text-2xl"></i>
              </div>
              <h2 class="text-2xl font-bold mb-2">Welcome to #general</h2>
              <p class="text-gray-400 text-sm mb-4">This is the beginning of the #general channel.</p>
            </div>
            <div class="flex flex-col sm:flex-row gap-2 items-center justify-center">
              <button onclick="showQRCode()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded flex items-center gap-2 transition-colors">
                <i class="fas fa-qrcode"></i> Share QR Code
              </button>
              <button onclick="showQRScanner()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded flex items-center gap-2 transition-colors">
                <i class="fas fa-camera"></i> Scan QR Code
              </button>
            </div>
          </div>
        </div>

        <!-- Typing Indicator will be inserted here -->
      </main>

      <!-- Member List Sidebar -->
      <aside id="peer-sidebar" class="hidden md:block w-60 bg-[#2b2d31] overflow-y-auto scrollbar-hide">
        <div class="p-3">
          <div id="peer-count" class="text-xs uppercase text-white tracking-widest mb-3 font-semibold">Online - 0</div>
          <div id="peer-list" class="space-y-1"></div>
        </div>
      </aside>
    </div>

    <!-- Reply Preview -->
    <div id="reply-preview" class="hidden bg-[#2b2d31] text-white text-sm px-4 py-2 border-l-4 border-[#5865f2] mx-4 mt-2 rounded-r"></div>

    <!-- Input Area -->
    <footer class="h-16 px-4 flex items-center bg-[#383a40] border-t border-[#232428] gap-3 relative fixed md:relative bottom-0 left-0 right-0 z-20">
      <label for="plus-file-input" class="text-gray-400 hover:text-white text-xl cursor-pointer p-2 rounded hover:bg-[#4a4d55] transition-colors" title="Upload File">
        <i class="fas fa-plus-circle"></i>
      </label>
      <input type="file" id="plus-file-input" class="hidden" />

      <input id="message-input" placeholder="Message #general" class="flex-1 bg-[#1e1f22] p-3 rounded-md text-white focus:outline-none focus:ring-1 focus:ring-[#5865f2] placeholder:text-gray-400 border border-[#40444b]" />

      <label for="file-input" class="hidden md:block text-gray-400 hover:text-white text-xl cursor-pointer p-2 rounded hover:bg-[#4a4d55] transition-colors" title="Attach File">
        <i class="fas fa-paperclip"></i>
      </label>
      <input type="file" id="file-input" class="hidden" />

      <button class="hidden md:block text-gray-400 hover:text-white text-xl p-2 rounded hover:bg-[#4a4d55] transition-colors" title="Gift Nitro">
        <i class="fas fa-gift"></i>
      </button>
      <button class="hidden md:block text-gray-400 hover:text-white text-xl p-2 rounded hover:bg-[#4a4d55] transition-colors" title="GIF">
        <i class="fas fa-image"></i>
      </button>
      <button id="emoji-btn" class="hidden md:block text-gray-400 hover:text-white text-xl p-2 rounded hover:bg-[#4a4d55] transition-colors" title="Emoji">
        <i class="fas fa-smile"></i>
      </button>

      <button id="send-btn" class="text-gray-400 hover:text-white text-xl p-2 rounded hover:bg-[#4a4d55] transition-colors" title="Send Message">
        <i class="fas fa-paper-plane"></i>
      </button>
    </footer>
  </div>

  <!-- Voice Control Dock -->
  <div id="voice-control-dock" class="fixed bottom-20 md:bottom-4 left-1/2 transform -translate-x-1/2 z-50 bg-[#2b2d31] px-6 py-3 rounded-xl shadow-lg flex gap-4 items-center text-white hidden border border-[#404249]">
    <button id="toggle-mic" class="hover:text-red-500 p-2 rounded transition-colors" title="Toggle Microphone">
      <i class="fas fa-microphone"></i>
    </button>
    <button id="toggle-cam" class="hover:text-red-500 p-2 rounded transition-colors" title="Toggle Camera">
      <i class="fas fa-video"></i>
    </button>
    <button id="share-screen" class="hover:text-yellow-400 p-2 rounded transition-colors" title="Share Screen">
      <i class="fas fa-desktop"></i>
    </button>
    <div class="w-px h-6 bg-[#40444b]"></div>
    <button id="leave-voice" class="hover:text-red-500 p-2 rounded transition-colors" title="Leave Voice Channel">
      <i class="fas fa-phone-slash"></i>
    </button>
  </div>

  <script type="module" src="src/main.js"></script>
</body>
</html>
